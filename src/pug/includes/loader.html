<div class='loader-wrap'>
    <svg width="325" height="28" viewBox="0 0 325 28" fill="none" xmlns="http://www.w3.org/2000/svg">
        <mask id="mask0_446_918" style="mask-type:luminance" maskUnits="userSpaceOnUse" x="0" y="0" width="33" height="28">
        <path d="M21.9689 14.8484H11.0312L6.49216 7.42091H26.508L21.9689 14.8484ZM16.5 23.7975L11.5629 15.7185H21.4372L16.5 23.7975ZM24.7501 0.499998H8.25004L0 14L8.25004 27.5H24.7501L33 14L24.7501 0.499998Z" fill="white"/>
        </mask>
        <g mask="url(#mask0_446_918)">
        <path  class="anim-on-top" d="M21.9689 14.8484H11.0312L6.49216 7.42091H26.508L21.9689 14.8484ZM16.5 23.7975L11.5629 15.7185H21.4372L16.5 23.7975ZM24.7501 0.499998H8.25004L0 14L8.25004 27.5H24.7501L33 14L24.7501 0.499998Z" fill="white"/>
        </g>
        <path class="anim-on-bottom" d="M48.9102 23.2812C44.4336 23.2812 41.8203 21.0664 41.8203 17.2695H45.3008C45.3477 19.1914 46.6953 20.3164 48.9336 20.3164C50.9375 20.3164 52.2617 19.4375 52.2617 18.0781C52.2617 16.9531 51.3477 16.2969 49.1328 15.8164L47.293 15.418C43.8359 14.668 42.1602 13.0625 42.1602 10.5664C42.1602 7.39062 44.8203 5.25781 48.793 5.25781C52.8125 5.25781 55.3086 7.37891 55.4141 10.8945H52.0391C51.9102 9.24219 50.6797 8.22266 48.8047 8.22266C47.0234 8.22266 45.7695 9.11328 45.7695 10.3906C45.7695 11.4688 46.6367 12.0664 48.7812 12.5352L50.457 12.8984C54.1836 13.6836 55.8359 15.2188 55.8359 17.8438C55.8359 21.207 53.2109 23.2812 48.9102 23.2812ZM56.3867 23L62.5156 5.53906H67.1562L73.2852 23H69.2891L68.0703 19.1914H61.543L60.2773 23H56.3867ZM62.5156 16.3086H67.1328L66.5469 14.5039C66.0078 12.7227 65.4688 10.9414 64.8477 8.77344C64.2148 10.9414 63.6758 12.7227 63.1133 14.5039L62.5156 16.3086ZM74.7148 23V5.53906H81.7109C85.4727 5.53906 87.582 7.34375 87.582 10.0273C87.582 12.043 86.375 13.3906 84.4531 13.8711V13.8945C86.5859 14.0938 88.2266 15.5938 88.2266 18.0781C88.2266 20.9961 86.082 23 82.1094 23H74.7148ZM78.2422 20.1641H81.6055C83.457 20.1641 84.5469 19.332 84.5469 17.8789C84.5469 16.4258 83.4805 15.5117 81.6641 15.5117H78.2422V20.1641ZM78.2422 12.793H81.4414C83.0234 12.793 83.9961 11.9375 83.9961 10.5898C83.9961 9.23047 83.0234 8.375 81.4414 8.375H78.2422V12.793ZM88.9883 23L95.1172 5.53906H99.7578L105.887 23H101.891L100.672 19.1914H94.1445L92.8789 23H88.9883ZM95.1172 16.3086H99.7344L99.1484 14.5039C98.6094 12.7227 98.0703 10.9414 97.4492 8.77344C96.8164 10.9414 96.2773 12.7227 95.7148 14.5039L95.1172 16.3086ZM107.316 23V5.53906H110.926V19.9062H118.859V23H107.316ZM125.832 23V5.53906H129.441V19.9062H137.375V23H125.832ZM146.34 23.2812C141.98 23.2812 139.156 20.7031 139.156 16.918V5.53906H142.684V16.625C142.684 18.6758 144.125 20.1641 146.34 20.1641C148.566 20.1641 150.008 18.6875 150.008 16.625V5.53906H153.535V16.918C153.535 20.6914 150.699 23.2812 146.34 23.2812ZM154.93 23L161.199 14.0703L155.48 5.53906H159.57L161.504 8.50391C162.078 9.40625 162.641 10.3086 163.191 11.2109C163.754 10.3086 164.316 9.40625 164.914 8.50391L166.883 5.53906H170.879L165.219 13.9648L171.383 23H167.211L164.762 19.3086C164.211 18.4883 163.684 17.668 163.156 16.8359C162.617 17.668 162.078 18.4883 161.516 19.3086L158.996 23H154.93ZM179.973 23.2812C175.613 23.2812 172.789 20.7031 172.789 16.918V5.53906H176.316V16.625C176.316 18.6758 177.758 20.1641 179.973 20.1641C182.199 20.1641 183.641 18.6875 183.641 16.625V5.53906H187.168V16.918C187.168 20.6914 184.332 23.2812 179.973 23.2812ZM189.723 23V5.53906H196.707C200.645 5.53906 203.105 7.75391 203.105 11.2695C203.105 13.5781 201.945 15.3125 199.988 16.2148L203.492 23H199.625L196.531 16.8945C196.52 16.8945 196.508 16.8945 196.496 16.8945H193.332V23H189.723ZM193.332 14H196.496C198.395 14 199.578 12.9336 199.578 11.2695C199.578 9.60547 198.395 8.53906 196.484 8.53906H193.332V14ZM209.902 23V16.4727L203.434 5.53906H207.57L210.535 10.7773C210.934 11.4805 211.309 12.1836 211.684 12.8867C212.035 12.1836 212.41 11.4805 212.797 10.7773L215.668 5.53906H219.781L213.418 16.4727V23H209.902ZM226.355 23V5.53906H233.352C237.113 5.53906 239.223 7.34375 239.223 10.0273C239.223 12.043 238.016 13.3906 236.094 13.8711V13.8945C238.227 14.0938 239.867 15.5938 239.867 18.0781C239.867 20.9961 237.723 23 233.75 23H226.355ZM229.883 20.1641H233.246C235.098 20.1641 236.188 19.332 236.188 17.8789C236.188 16.4258 235.121 15.5117 233.305 15.5117H229.883V20.1641ZM229.883 12.793H233.082C234.664 12.793 235.637 11.9375 235.637 10.5898C235.637 9.23047 234.664 8.375 233.082 8.375H229.883V12.793ZM248.973 23.2812C244.613 23.2812 241.789 20.7031 241.789 16.918V5.53906H245.316V16.625C245.316 18.6758 246.758 20.1641 248.973 20.1641C251.199 20.1641 252.641 18.6875 252.641 16.625V5.53906H256.168V16.918C256.168 20.6914 253.332 23.2812 248.973 23.2812ZM262.332 5.53906V23H258.723V5.53906H262.332ZM264.934 23V5.53906H268.543V19.9062H276.477V23H264.934ZM284.457 23H278.293V5.53906H284.527C289.777 5.53906 293.082 8.90234 293.082 14.2578C293.082 19.6367 289.812 23 284.457 23ZM281.902 19.9648H284.27C287.797 19.9648 289.449 17.9375 289.449 14.2578C289.449 10.5898 287.773 8.57422 284.305 8.57422H281.902V19.9648ZM295.121 23V5.53906H307.648V8.63281H298.73V12.6758H306.98V15.6875H298.73V19.9062H307.648V23H295.121ZM309.723 23V5.53906H316.707C320.645 5.53906 323.105 7.75391 323.105 11.2695C323.105 13.5781 321.945 15.3125 319.988 16.2148L323.492 23H319.625L316.531 16.8945C316.52 16.8945 316.508 16.8945 316.496 16.8945H313.332V23H309.723ZM313.332 14H316.496C318.395 14 319.578 12.9336 319.578 11.2695C319.578 9.60547 318.395 8.53906 316.484 8.53906H313.332V14Z" fill="white"/>
    </svg>
</div>


<style>

    .loader-wrap {
        position: fixed;
        left: 0;
        top: 0;
        width: 100%;
        height: 100vh;
        z-index: 10000;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        background: var(--color-dark);
        transition: .5s ease-out;
    }
    .loader-wrap.hidden {
        opacity: 0;
        visibility: hidden;
        pointer-events: none;
    }
</style>

<style data-page-elements-style-for-loader>
</style>

<script src="./assets/scripts/gsap.min.js"></script>

<script>

function frontScreenAnimation() {
    if ('scrollRestoration' in history) {
    // Back off, browser, I got this...
    history.scrollRestoration = 'manual';
    }

    const tls = [];

    document.querySelectorAll('.home-front-screen .text-style-1920-h-2.text-white').forEach(text => {
        let mathM = text.innerHTML.match(/<\s*(\w+\b)(?:(?!<\s*\/\s*\1\b)[\s\S])*<\s*\/\s*\1\s*>|\S+/g);
        if (mathM === null) return;
        mathM = mathM.map(el => `<span style="display:inline-flex"><span>${el}</span></span>`);
        text.innerHTML = mathM.join(' ');
        gsap.set(text.children, { overflow: 'hidden' });
        gsap.set(text.querySelectorAll('span>span'), { overflow: 'initial', display: 'inline-block' });
        let tl = gsap
            .timeline({
                paused: true,
            })
            .fromTo(
                text.querySelectorAll('span>span'),
                { yPercent: 100, },
                { yPercent: 0, stagger: 0.05, duration: 1.75, ease: 'power4.out' },
            )
            .add(() => {
                text.innerHTML = text.textContent;
            })
            ;
        tls.push(tl);
    });


    let tl = gsap.timeline({
        paused: true,
    })
        .add(() => {
            tls.forEach(tl => tl.play());
        }, '<')
        
        .fromTo('.home-front-screen button', {
            y:100,
            autoAlpha: 0,
        }, {
            y: 0,
            autoAlpha: 1,
            duration: 1,
            ease: 'power4.out',
        }, '<')
        .fromTo('.home-front-screen__content>*', {
            // y:100,
            autoAlpha: 0,
        }, {
            y: 0,
            autoAlpha: 1,
            duration: 1,
            stagger: 0.1,
            ease: 'power4.out',
        }, '<')
        .fromTo('.header__logo-wrap, .header__links>a, header .button-30, header>.header__link2', {
            y: -50,
            autoAlpha: 0,
        }, {
            y: 0,
            autoAlpha: 1,
            stagger: 0.1,
            clearProps: 'all',
        }, '<');
    
    return tl;
}

// frontScreenAnimation();
    let loaderStatus = {
        isCounterAnim: true,
        isDOMLoaded: false,
    }

    window.addEventListener('DOMContentLoaded', () => {

        let frontScrennAnim = frontScreenAnimation();
        const loaderTimeline = gsap.timeline({
            paused: true,
        })
            .fromTo('.anim-on-top', {y: 0}, {y: -30, duration: 1.2})
            .fromTo('.anim-on-bottom', {y: 0}, {y: 30, duration: 1.2}, '<')
            .add(() => {
                if (window.location.hash) {
                } else {
                    // window.scrollTo({
                    //     top: 0,
                    //     behavior: 'smooth',
                    // });
                }
            })
            .to('.loader-wrap', {opacity: 0, duration: 0.5},'<')
            .set('.loader-wrap', {display: 'none'})
            .add(() => {
                loaderStatus.isCounterAnim = false;
                document.querySelectorAll('[data-page-elements-style-for-loader]').forEach(el => el.remove())
                window.dispatchEvent(new CustomEvent('loaderStatus', {detail: loaderStatus}));
                frontScrennAnim.play();
        }, '<')
        if (sessionStorage.getItem('visit') !== null) {
            loaderTimeline.play();
        } else {
            setTimeout(() => {
                loaderTimeline.play();
                sessionStorage.setItem('visit', true);
            }, 1000);
        }
    })
</script>